services:
  gitea:
    image: docker.io/gitea/gitea:1.25.4
    hostname: gitea.local
    environment:
      USER_UID: '1000'
      USER_GID: '1000'
      GITEA__database__DB_TYPE: sqlite3
      GITEA__database__PATH: /data/gitea/gitea.db
      GITEA__security__INSTALL_LOCK: 'true'
      GITEA__service__DISABLE_REGISTRATION: 'true'
      GITEA__service__REQUIRE_SIGNIN_VIEW: 'false'
      GITEA__server__DOMAIN: 127.0.0.1
      GITEA__server__HTTP_PORT: '3000'
      GITEA__server__ROOT_URL: http://127.0.0.1:${GITEA_HTTP_PORT}/
      GITEA__server__START_SSH_SERVER: 'false'
      GITEA__server__DISABLE_SSH: 'true'
      GITEA__repository__DEFAULT_BRANCH: main
    ports:
      - "${GITEA_HTTP_PORT}:3000"
